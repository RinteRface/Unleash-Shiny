---
title: "shinybulma"
author: "David Granjon"
date: "9/27/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(htmltools)
library(charpente)
```

## About bulma
[bulma](https://bulma.io/) is a more and more popular open source CSS framework for the web. Importantly, there **isn't** any JavaScript helper in the bulma core. We'll see later that the recent [bulma JS](https://bulmajs.tomerbe.co.uk/) provide such feature. For now, let's focus on HTML and CSS.

## Bulma: get started
The first thing to do is to review the **Getting started [guide](https://bulma.io/documentation/overview/start/)**. To install bulma dependencies, there are 3 way. For convenience, we'll choose the CDN method (content delivery network) which consists in getting dependencies from a dedicated server.
Obviously, an internet connection is required.

### Build the HTML dependency
```{r bulma-deps}
bulma_deps <- htmlDependency(
  name = "bulma",
  version = "0.9.0",
  src = c(href = "https://www.jsdelivr.com/package/npm/bulma"),
  stylesheet = "css/bulma.min.css"
)
```

```{r attach-bulma-deps}
use_bulma <- function(tag) {
  tagList(tag, bulma_deps)
}

# check it works ...
findDependencies(use_bulma(div()))
```


### Starter template
According to the documentation, the starter template is:
```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Hello Bulma!</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.0/css/bulma.min.css">
  </head>
  <body>
  <section class="section">
    <div class="container">
      <h1 class="title">
        Hello World
      </h1>
      <p class="subtitle">
        My first website with <strong>Bulma</strong>!
      </p>
    </div>
  </section>
  </body>
</html>
```

Adding some `{charpente}` magic and `html_2_R`:

```{r convert-page}
html_2_R(
  '<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Hello Bulma!</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.0/css/bulma.min.css">
  </head>
  <body>
  <section class="section">
    <div class="container">
      <h1 class="title">
        Hello World
      </h1>
      <p class="subtitle">
        My first website with <strong>Bulma</strong>!
      </p>
    </div>
  </section>
  </body>
</html>
  '
)
```
